# S-DES 实验（信息安全导论实验 1）

## 实验概述

本实验实现了简化数据加密标准（Simplified DES, S-DES）算法，并在此基础上扩展完成以下五个关卡的功能与测试：

<<<<<<< HEAD
* **第1关：基本测试**：实现标准 S-DES 算法的加密与解密，支持 8-bit 数据与 10-bit 密钥。                   |
* **第2关：交叉测试**：验证算法标准化：不同同学编写的程序在同一密钥下应生成相同密文。                               |
* **第3关：扩展功能**：支持 ASCII 字符串输入（每字节为一分组），实现对任意字符串加/解密。                         |
* **第4关：暴力破解**：给定明密文对，遍历 1024 种 10-bit 密钥，找出匹配密钥；支持多线程和进度条；结果可导出 CSV 和可视化图表。 |
* **第5关：封闭测试**：对给定明文枚举所有密钥，分析是否存在多个不同密钥生成相同密文的“碰撞”现象；支持图表可视化和导出结果。           |
=======
第1关：基本测试：实现标准 S-DES 算法的加密与解密，支持 8-bit 数据与 10-bit 密钥。                   |
第2关：交叉测试：验证算法标准化：不同同学编写的程序在同一密钥下应生成相同密文。                               |
第3关：扩展功能：支持 ASCII 字符串输入（每字节为一分组），实现对任意字符串加/解密。                         |
第4关：暴力破解：给定明密文对，遍历 1024 种 10-bit 密钥，找出匹配密钥；支持多线程和进度条；结果可导出 CSV 和可视化图表。 |
第5关：封闭测试：对给定明文枚举所有密钥，分析是否存在多个不同密钥生成相同密文的“碰撞”现象；支持图表可视化和导出结果。           |
>>>>>>> ecad2442887c0299dffbdc465c1f4e697f7c8ab7

##  项目结构

```
📦 S-DES-Experiment
├── T1_SDES.py          # 核心算法实现（含扩展功能）
├── T1_GUI.py           # 图形界面（集成第1~5关）
├── T1_Main.py          # 程序入口（运行 GUI）
├── T1_tests.py         # 命令行交互式测试脚本（课堂演示）
├── README.md           # 本文档
├── requirements.txt     # 可选依赖说明
└── results/             # (运行后自动生成) 输出结果、截图、CSV 文件等
```

---

##  环境与依赖

###  Python 环境要求

Python ≥ 3.8
推荐在 Windows / macOS / Linux 任意平台运行

###  必需依赖

```bash
pip install PyQt5 matplotlib
```

---

##  快速运行说明

### ▶️ 方式一：启动图形界面（推荐用于实验报告截图）

```bash
python3 T1_Main.py
```

###  界面说明（共四个标签页）

1. 基本加/解密

   输入 8-bit 明文或密文（如 `10110101`）
   输入 10-bit 密钥（如 `1010000010`）
   选择「加密」或「解密」→ 点击「执行」
   在下方查看输出与详细过程日志。

2. ASCII 模式（第3关）

   输入 ASCII 文本（如 `Hello!`）和密钥
   点击「加密」可查看每字节对应的 8-bit 密文列表
   点击「解密」可还原为原始字符串。

3. 暴力破解（第4关）

   在文本框中输入一组或多组明密文对（每行 `plaintext,ciphertext`）
     例如：

     ```
     10110101,00011011
     00011011,11110101
     ```
   设置线程数 → 点击「开始暴力破解」
   进度条实时更新，结果表显示候选密钥
   可点击「导出候选密钥为 CSV」保存结果
   右侧显示候选密钥数量的柱状图。

4. 碰撞分析（第5关）

   输入要分析的明文（8-bit）
   点击「开始碰撞分析」，系统遍历所有 1024 个密钥
   显示不同密钥映射到相同密文的统计信息
   自动绘制碰撞分布直方图，可导出 CSV。

---

##  运行结果与截图建议（用于实验报告）

| 关卡  | 建议截图内容                    |
| --- | ------------------------- |
| 第1关 | 基本加/解密界面与日志输出             |
| 第2关 | 在两台电脑运行相同明文与密钥，显示密文一致     |
| 第3关 | ASCII 模式中明文与密文（显示乱码的情形）   |
| 第4关 | 暴力破解界面运行中（进度条 + 表格 + 柱状图） |
| 第5关 | 碰撞分析界面（结果 + 碰撞分布直方图）      |

可将截图统一保存到 `results/screenshots/` 文件夹，并在报告或视频中引用。

---

##  命令行交互测试（`T1_tests.py`）

在课堂演示或无图形界面环境下，可使用交互式命令行脚本。

运行：

```bash
python3 T1_tests.py
```

按提示逐项选择要演示的关卡：

```
====== S-DES 交互式测试 ======
1) 第1关：基本加/解密
2) 第2关：交叉测试
3) 第3关：ASCII 模式
4) 第4关：暴力破解
5) 第5关：碰撞分析
6) 退出
```

支持即时输入参数、自动生成密文、导出结果为 CSV 文件，方便课堂展示与复现。

---

##  代码规范遵循

 **变量命名规范**
使用清晰的 `snake_case` 风格，例如 `generate_subkeys()`, `left_shift()`, `brute_force_search_single_pair()` 等。

 **模块化设计**
算法核心、界面、测试脚本相互独立，可单独复用或测试。

 **注释规范**
每个函数均包含说明、输入输出与算法原理简述；较复杂逻辑处有行内注释。

 **函数化编程**
所有重复功能均封装为独立函数或类方法，GUI 的后台计算使用 `QThread` 分离。

 **第三方库辅助**
使用 `matplotlib` 进行结果可视化，使用 `concurrent.futures` 与 `QThread` 处理多线程计算。

---

##  输出与提交建议

1. 运行 GUI → 截图五个关卡界面及结果；
2. 运行命令行测试 → 导出 CSV 并保存日志；
3. 将截图、CSV、视频（暴力破解演示）放入 `results/` 目录；
4. 提交文件：

   ```
   T1_SDES.py
   T1_GUI.py
   T1_Main.py
   T1_tests.py
   README.md
   results/
   ```
5. 在报告中说明耗时统计与碰撞分析结论。

---

##  实验分析与思考建议

* **暴力破解耗时随线程数变化趋势**：可尝试记录 1、2、4、8 线程下的执行时间，并绘图比较。
* **碰撞分布统计**：可观察不同明文下的碰撞数量，分析 S-DES 的密钥空间分布特性。
* **算法稳定性与交叉测试**：说明为何相同算法流程在不同系统上结果一致（验证置换表一致性）。


---

##  附加：快捷命令汇总

```bash
# 安装依赖
pip install PyQt5 matplotlib

# 启动 GUI
python3 T1_Main.py

# 运行命令行交互测试
python3 T1_tests.py

# 导出暴力破解结果
# （GUI 中点击 “导出候选密钥为 CSV”）

# 导出碰撞分析结果
# （GUI 中点击 “导出碰撞结果为 CSV”）
```


##  实验目标：
通过实现与扩展 S-DES 算法，掌握对称加密原理、密钥空间暴力破解、碰撞现象与算法可移植性验证，为理解 DES/AES 等现代分组密码奠定基础。

